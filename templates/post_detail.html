{% extends "base.html" %}

{% block title %}{{ post.title }} · Luxe Voyages{% endblock title %}

{% block content %}
<article class="post-detail">
    <header class="post-detail-header">
        <p class="post-detail-meta">由 {{ post.username }} · {{ post.created_at|format_date }}</p>
        <h2 class="post-detail-title">{{ post.title }}</h2>
        <div class="post-detail-actions">
            <a class="btn btn-ghost" href="{{ url_for('index') }}">返回列表</a>
            {% if current_user and current_user.id == post.user_id %}
            <a class="btn btn-secondary" href="{{ url_for('edit_post', post_id=post.id) }}">編輯文章</a>
            <form method="post" action="{{ url_for('delete_post', post_id=post.id) }}" onsubmit="return confirm('確定要刪除這篇文章嗎？');">
                <button class="btn btn-danger" type="submit">刪除文章</button>
            </form>
            {% endif %}
        </div>
    </header>
    <section class="post-detail-body">
        {{ post.body|replace('\n', '<br>')|safe }}
    </section>
</article>
{% endblock content %}
